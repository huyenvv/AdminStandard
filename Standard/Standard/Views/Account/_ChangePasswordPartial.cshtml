@model Standard.Models.ManageUserViewModel
@{
    ViewBag.Title = "Đổi mật khẩu";
}
<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
<script type="text/javascript">
    $(document).ready(function () {
        $('input[name="OldPassword"]').focus();
    });
</script>
<div class="modal-dialog">
    <div class="modal-content">
        <div class="modal-header">
            <h4 class="modal-title">@ViewBag.Title</h4>
        </div>
        <div class="modal-body">
            @using (Ajax.BeginForm("ChangePassword", "Account", null, new AjaxOptions
        {
            UpdateTargetId = "modalDefault",
            HttpMethod = "Post",
            InsertionMode = InsertionMode.Replace,
        }, new { Class = "", @style = "margin-bottom: 0px;" }))
            {
                @Html.ValidationSummary(true, "Đổi mật khẩu thất bại. Vui lòng kiểm tra và thử lại.")
                <div class="form-group fg-line">
                    <label>Mật khẩu cũ <span class="f_req">*</span></label>
                    @Html.PasswordFor(m => m.OldPassword, new { Class = "focus form-control" })
                    <span class="help-block">@Html.ValidationMessageFor(m => m.OldPassword)</span>
                </div>
                <div class="form-group fg-line">
                    <label>Mật khẩu mới <span class="f_req">*</span></label>
                    @Html.PasswordFor(m => m.NewPassword, new { Class = "form-control" })
                    <span class="help-block">@Html.ValidationMessageFor(m => m.NewPassword)</span>
                </div>
                <div class="form-group fg-line">
                    <label>Nhắc lại mật khẩu <span class="f_req">*</span></label>
                    @Html.PasswordFor(m => m.ConfirmPassword, new { Class = "form-control" })
                    <span class="help-block">@Html.ValidationMessageFor(m => m.ConfirmPassword)</span>
                </div>
                <div class="form-group fg-float">
                    <button class="btn btn-info waves-effect" type="submit">Đổi mật khẩu</button>
                    <a class="btn btn-default waves-effect" data-dismiss="modal">Huỷ</a>
                </div>
                
            }
        </div>
    </div>
</div>
